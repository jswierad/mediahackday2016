//---// JavaScript Document//HTML5 Ad Template JS from DoubleClick by Google. Modified by anyMOTION GRAPHICS//---var CREATIVE_NAME = "CitroenCactusHWGAngryBirds2016April_Superbanner_728x90_24FPS";var CREATIVE_FPS = 24;var CREATIVE_WIDTH = 728;var CREATIVE_HEIGHT = 90;var CREATIVE_FONT_FAMILY = "Arial";var interval;var container;var bgExit;var canvas; var stage; var exportRoot;var loader;var dealerName;var dealerRate;var bannerVersion;//---//Function to run with any animations starting on load, or bringing in images etcinit = function() {		//Assign All the elements to the element on the page	container = document.getElementById( "container_dc" );	bgExit = document.getElementById( "background_exit_dc" );		canvas = document.getElementById( "canvas" );	//---	canvas.setAttribute( "width", CREATIVE_WIDTH );	canvas.setAttribute( "height", CREATIVE_HEIGHT );	//---	getVariables();		//---	interval = setInterval( wait, 100 );}//---function wait() {	if ( images && dealerName && dealerRate && bannerVersion ) {		clearInterval( interval );		ready();	}}function ready() {	//Bring in listeners i.e. if a user clicks or rollsover	addListeners();	//---		images = images || {};	//---	//loader = new createjs.LoadQueue( false );	loader = new createjs.LoadQueue( true, null, true );//to avoid cross-origin errors 	loader.addEventListener( "fileload", handleFileLoad );	loader.addEventListener( "complete", handleComplete );	loader.loadManifest( lib.properties.manifest );	}//---addListeners = function() {	bgExit.addEventListener( "click", bgExitHandler, false );	}bgExitHandler = function( event ) {	//Call Exits	//Enabler.exit( "HTML5_Background_Clickthrough" );		Enabler.exitOverride( "HTML5_Background_Clickthrough", dynamicContent.CDG_Dealer_DynamicAds_Cactus_hwg_160314_Tabellenblatt1[ 0 ].TargetURL.Url );}//---function handleFileLoad( event ) {	if ( event.item.type == "image" ) { 		images[ event.item.id ] = event.result;	}}function handleComplete() {	loader.removeEventListener( "fileload", handleFileLoad );	loader.removeEventListener( "complete", handleComplete );	loader = null;	//---	exportRoot = new lib[ CREATIVE_NAME + "_Animation" ]();	exportRoot.addEventListener( "FRAME_SELECT", selectVersion );	stage = new createjs.Stage( canvas );	stage.addChild( exportRoot );	stage.update();	//---	createjs.Ticker.setFPS( CREATIVE_FPS );	createjs.Ticker.addEventListener( "tick", render );	//---	setTextFields();	//---	//Show Ad	container.style.display = "block";}function render( event ) {	stage.update();}//---function getVariables() {	Enabler.setProfileId( 1073708 );	var devDynamicContent = {};	    devDynamicContent.CDG_Dealer_DynamicAds_Cactus_hwg_160314_Tabellenblatt1 = [ {} ];	    devDynamicContent.CDG_Dealer_DynamicAds_Cactus_hwg_160314_Tabellenblatt1[ 0 ]._id = 0;	    devDynamicContent.CDG_Dealer_DynamicAds_Cactus_hwg_160314_Tabellenblatt1[ 0 ].id = "Ci000014";	    devDynamicContent.CDG_Dealer_DynamicAds_Cactus_hwg_160314_Tabellenblatt1[ 0 ].DealerName = "PEUGEOT CITROËN Retail\nDeutschlang GmbH\nNiederlassung\nSaarbrücken";	    devDynamicContent.CDG_Dealer_DynamicAds_Cactus_hwg_160314_Tabellenblatt1[ 0 ].DealerPrice = "XXX";	    devDynamicContent.CDG_Dealer_DynamicAds_Cactus_hwg_160314_Tabellenblatt1[ 0 ].BannerVersion = "DealerText";//DealerFallback //Default	    devDynamicContent.CDG_Dealer_DynamicAds_Cactus_hwg_160314_Tabellenblatt1[ 0 ].TargetURL = {};	    devDynamicContent.CDG_Dealer_DynamicAds_Cactus_hwg_160314_Tabellenblatt1[ 0 ].TargetURL.Url = "http://www.citroen-haendler.de/beier-karlsruhe/neuwagen/aktuelle_angebote/aktionsangebote/?utm_source=N6631.1592842.OMG.DE&utm_medium=D_CPM&utm_content=115310880&utm_campaign=2015_09_CDG_Haendlerpromo_Sep";	    devDynamicContent.CDG_Dealer_DynamicAds_Cactus_hwg_160314_Tabellenblatt1[ 0 ].aktionsTage = true;	Enabler.setDevDynamicContent( devDynamicContent );	//---	dealerRate = formatCurrency( dynamicContent.CDG_Dealer_DynamicAds_Cactus_hwg_160314_Tabellenblatt1[ 0 ].DealerPrice );	dealerName = dynamicContent.CDG_Dealer_DynamicAds_Cactus_hwg_160314_Tabellenblatt1[ 0 ].DealerName;	bannerVersion = dynamicContent.CDG_Dealer_DynamicAds_Cactus_hwg_160314_Tabellenblatt1[ 0 ].BannerVersion;	//---	if ( !dealerName )		dealerName = "Name Autohaus\nFirmierung\nOrt bzw. Betriebsstätte";	if ( !bannerVersion )		bannerVersion = "DealerText";}function setTextFields() {		exportRoot.preis.txtPreis.font = "bold " + "30px " + CREATIVE_FONT_FAMILY;	exportRoot.preis.txtPreis.lineHeight = 0;	exportRoot.preis.txtPreis.text = dealerRate;	exportRoot.preis2.txtPreis.font = "bold " + "30px " + CREATIVE_FONT_FAMILY;	exportRoot.preis2.txtPreis.lineHeight = 0;	exportRoot.preis2.txtPreis.text = dealerRate;	//---	if ( exportRoot.preis.txtPreis.getBounds() && exportRoot.preis2.txtPreis.getBounds() ) {		exportRoot.preis.txtEuro.x = exportRoot.preis.txtPreis.x + exportRoot.preis.txtPreis.getBounds().width + 20;		exportRoot.preis2.txtEuro.x = exportRoot.preis2.txtPreis.x + exportRoot.preis2.txtPreis.getBounds().width + 25;	}	//---	exportRoot.haendler.txtHaendler.font = "bold " + "13px " + CREATIVE_FONT_FAMILY;	exportRoot.haendler.txtHaendler.lineHeight = 15;	exportRoot.haendler.txtHaendler.text = dealerName; 	//---	var firefox = navigator.userAgent.toLowerCase().indexOf( 'firefox' ) > -1;	if ( firefox ) {	    exportRoot.preis.txtPreis.y += 3;	    exportRoot.preis2.txtPreis.y += 3;	}	}//---function selectVersion( event ) {		if ( bannerVersion == "DealerText" ) {			exportRoot.gotoAndPlay( "DealerText" );			} else if ( bannerVersion == "DealerFallback" ) {				exportRoot.gotoAndPlay( "DealerFallback" );			} else if ( bannerVersion == "Default" ) {				exportRoot.gotoAndPlay( "Default" );			}	}//---function formatCurrency( value ) {	//formatCurrency( value ) aus 9000 wird 9.000,-    return value.toString().split( /(?=(?:\d{3})+(?:\.|$))/g ).join( "." ) + ",-";}//---init();//---